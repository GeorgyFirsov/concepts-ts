<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
    "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>C++ Concepts Completed Issues List</title>
<style type="text/css">
  p {text-align:justify}
  li {text-align:justify}
  blockquote.note
  {
    background-color:#E0E0E0;
    padding-left: 15px;
    padding-right: 15px;
    padding-top: 1px;
    padding-bottom: 1px;
  }
  ins {background-color:#A0FFA0}
  del {background-color:#FFA0A0}
</style>
</head>
<body>
<table>
<tr>
  <td align="left">Date:</td>
  <td align="left">2017-06-16</td>
</tr>
<tr>
  <td align="left">Project:</td>
  <td align="left">C++ Extensions for Concepts</td>
</tr>
<tr>
  <td align="left">Reply to:</td>
  <td align="left">Andrew Sutton &lt;<a href="mailto:asutton@uakron.edu">asutton@uakron.edu</a>&gt;</td>
</tr>
</table>
<h1>C++ Concepts Completed Issues List (Revision 5)</h1>
<p>Revised 2017-06-16 at 16:06:02 UTC</p>

  <p>Reference ISO/IEC TS 19217</p>
  <p>Also see:</p>
    <ul>
      <li><a href="ts-toc.html">Table of Contents</a> for all concepts issues.</li>
      <li><a href="ts-index.html">Index by Section</a> for all concepts issues.</li>
      <li><a href="ts-status.html">Index by Status</a> for all concepts issues.</li>
      <li><a href="ts-active.html">Concepts Active Issues List</a></li>
      <li><a href="ts-closed.html">Concepts Closed Issues List</a></li>
    </ul>
  <p>This document contains only concepts issues which have been closed
  by the Core Working Group (CWG) after being found to be acceptable
  extensions to the standard.  That is, issues which have a status of <a href="ts-active.html#DR">DR</a>,
  <a href="ts-active.html#TC1">TC1</a>, <a href="ts-active.html#WP">WP</a>, <a href="ts-active.html#C++11">C++11</a>,
  or <a href="ts-active.html#Resolved">Resolved</a>. See the
  <a href="ts-closed.html">Concepts Closed Issues List</a> for issues closed as non-defects.  See the
  <a href="ts-active.html">Concepts Active Issues List</a> for active issues and more information.  The
  introductory material in that document also applies to this
  document.</p>

<h2>Revision History</h2>
<ul>
<li><ul>
<li><b>Summary:</b><ul>
<li>27 open issues, down by 1.</li>
<li>10 closed issues, up by 3.</li>
<li>37 issues total, up by 2.</li>
</ul></li>
<li><b>Details:</b><ul>
<li>Added the following 2 New issues: <a href="ts-active.html#36">36</a>, <a href="ts-active.html#37">37</a>.</li>
<li>Changed the following 2 issues from Open to WP: <a href="ts-complete.html#3">3</a>, <a href="ts-complete.html#29">29</a>.</li>
<li>Changed the following issue from Ready to WP: <a href="ts-complete.html#26">26</a>.</li>
</ul></li>
</ul>
</li>
</ul>

<h2>Completed Issues</h2>
<hr>
<h3><a name="3"></a>3. Allow requires-expressions in more contexts</h3>
<p><b>Section:</b> 5.1.4 [expr.prim.req] <b>Status:</b> <a href="ts-active.html#WP">WP</a>
 <b>Submitter:</b> US <b>Opened:</b> 2015-05-18 <b>Last modified:</b> 2017-06-16</p>
<p><b>View all other</b> <a href="ts-index.html#expr.prim.req">issues</a> in [expr.prim.req].</p>
<p><b>View all issues with</b> <a href="ts-status.html#WP">WP</a> status.</p>
<p><b>Discussion:</b></p>
<p>
The following requirement seems overly restrictive, as it can be fairly
easily (but tediously) be worked around: "A <i>requires-expression</i> shall
appear only within a concept definition (7.1.7), or within the
<i>requires-clause</i> of a template declaration (Clause 14) or function declaration
(8.3.5)."

(The tedious workaround for each concept C is to define an overload set
consisting of two function templates, one unconstrained and returning false,
the other constrained by C and returning true.)
</p>

<p>
Proposed change: Eliminate the requirement, thereby permitting
other uses for this new kind of expression of type <code>bool</code>. (For example,
requires­-expressions might replace many or all of the Boolean type traits.)
Additionally, in any context where a bool value is permitted, allow a
concept’s name plus suitable arguments to denote the truth value of the claim
that "this combination of arguments satisfy this concept." (This syntax is
currently valid in only certain contexts such as requires­expressions.)
</p>

<p>
There is a paper addressing the <i>requires-expression</i> portion of this
discussion.
<a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2016/p0266r0.pdf"></a>.
</p>

<p>
Issue <a href="ts-complete.html#29">29</a> was created to specifically address the inability to
evaluate concepts outside of SFINAE contexts.
</p>





<hr>
<h3><a name="26"></a>26. Function concepts not allowed to be declared in more than one TU</h3>
<p><b>Section:</b> 14.10.3 [temp.constr.order] <b>Status:</b> <a href="ts-active.html#WP">WP</a>
 <b>Submitter:</b> Hubert Tong <b>Opened:</b> 2015-06-09 <b>Last modified:</b> 2017-06-16</p>
<p><b>View other</b> <a href="ts-index-open.html#temp.constr.order">active issues</a> in [temp.constr.order].</p>
<p><b>View all other</b> <a href="ts-index.html#temp.constr.order">issues</a> in [temp.constr.order].</p>
<p><b>View all issues with</b> <a href="ts-status.html#WP">WP</a> status.</p>
<p><b>Discussion:</b></p>
<p>
According to subclause 7.1.7 [dcl.spec.concept] paragraph 1:
<blockquote>
When a function is declared to be a concept, it shall be the only declaration
of that function.
</blockquote>
</p>


<p><b>Wording available:</b></p>
Change that sentence to read:
<blockquote>
When a function <ins>template</ins> is declared to be a concept, it shall be the only
declaration of that function <ins>template in the translation unit</ins>.
</blockquote>





<hr>
<h3><a name="29"></a>29. Allow concepts to be evaluated in any context</h3>
<p><b>Section:</b> 14.10.2 [temp.constr.decl] <b>Status:</b> <a href="ts-active.html#WP">WP</a>
 <b>Submitter:</b> Andrew Sutton <b>Opened:</b> 2016-02-27 <b>Last modified:</b> 2017-06-16</p>
<p><b>View other</b> <a href="ts-index-open.html#temp.constr.decl">active issues</a> in [temp.constr.decl].</p>
<p><b>View all other</b> <a href="ts-index.html#temp.constr.decl">issues</a> in [temp.constr.decl].</p>
<p><b>View all issues with</b> <a href="ts-status.html#WP">WP</a> status.</p>
<p><b>Discussion:</b></p>
<p>
Currently, concepts are only guaranteed to be evaluable within the context
of a requires-expression. Among other things, this guarantees that the following
will not work:

<code>
static_assert(C&lt;X&gt;(), ""); // for some concrete X
</code>
</p>

<p>
Evaluating a concept in any context effectively requires that it be evaluated
as if in a SFINAE context. The original design of concepts did not require
this because it was not clear how easy this would be for all implementers.
Based on EWG discussions in Kona, this appears to no longer be the case.
</p>

<p>
This issue is submitted as a result of an EWG straw poll taken during discussion
of issue <a href="ts-complete.html#3">3</a>. 
</p>


<p><b>Wording available:</b></p>





</body>
</html>
